<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Profile</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="profile.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
</head>
<body>

<input type="file" id="photoInput" accept="image/*" style="display: none;" />

<div class="profile-screen">

  <!-- Profile Image -->
  <div class="text-center">
    <div class="position-relative d-inline-block">
      <img src="/icons/placeholder_7.png" alt="Profile Image" class="profile-img mb-3" id="profileImage">
      <i class="bi bi-camera-fill edit-photo-icon" id="editPhotoBtn"></i>
    </div>
    <h4 class="fw-bold d-flex justify-content-center align-items-center gap-2">
      <span id="profileName">BeWhoop</span>
      <i class="bi bi-patch-check-fill verified-icon"></i>
      <i class="bi bi-pencil edit-icon" id="editNameBtn"></i>
    </h4>
  </div>

  <!-- Followers / Following -->
  <div class="followers-following-box d-flex justify-content-center my-3">
    <div class="text-center mx-4">
      <p class="fw-bold mb-1">120</p>
      <small class="text-muted">Followers</small>
    </div>
    <div class="vertical-divider"></div>
    <div class="text-center mx-4">
      <p class="fw-bold mb-1">80</p>
      <small class="text-muted">Following</small>
    </div>
  </div>

  <!-- Bio -->
  <div class="bio px-3 mb-4 text-center position-relative">
    <span id="profileBio">Passionate event host and photographer. Capturing moments one frame at a time.</span>
    <i class="bi bi-pencil edit-icon ms-2" id="editBioBtn"></i>
  </div>

  <!-- Portfolio Grid -->
  <div class="portfolio-grid px-2">
    <div class="row g-2">
      <div class="col-4"><img src="/icons/placeholder_imgs/image-1.svg" class="img-fluid rounded"></div>
      <div class="col-4"><img src="/icons/placeholder_imgs/image-2.svg" class="img-fluid rounded"></div>
      <div class="col-4"><img src="/icons/placeholder_imgs/image-3.svg" class="img-fluid rounded"></div>
      <div class="col-4"><img src="/icons/placeholder_imgs/image-4.svg" class="img-fluid rounded"></div>
      <div class="col-4"><img src="/icons/placeholder_imgs/image-5.svg" class="img-fluid rounded"></div>
      <div class="col-4"><img src="/icons/placeholder_imgs/image-6.svg" class="img-fluid rounded"></div>
      <div class="col-4"><img src="/icons/placeholder_imgs/image-1.svg" class="img-fluid rounded"></div>
      <div class="col-4"><img src="/icons/placeholder_imgs/image-2.svg" class="img-fluid rounded"></div>
      <div class="col-4"><img src="/icons/placeholder_imgs/image-3.svg" class="img-fluid rounded"></div>
    </div>
  </div>

</div>

<!-- Photo Options Modal -->
<div class="modal fade" id="photoModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered small-modal">
    <div class="modal-content">
      <div class="modal-body text-center">
        <button class="btn btn-outline-danger w-100 mb-2" onclick="ViewPicture()">View Picture</button>
        <button class="btn btn-outline-danger w-100" onclick="EditPicture()">Edit Picture</button>
      </div>
    </div>
  </div>
</div>

<!-- Edit Name Modal -->
<div class="modal fade" id="nameModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content p-3">
      <input type="text" class="form-control mb-2" id="nameInput" placeholder="Enter Name">
      <button type="button" class="btn btn-outline-danger w-100" onclick="EditName()">Save</button>
    </div>
  </div>
</div>

<!-- Edit Bio Modal -->
<div class="modal fade" id="bioModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content p-3">
      <textarea class="form-control mb-2" rows="3" id="bioInput" placeholder="Enter Bio"></textarea>
      <button type="button" class="btn btn-outline-danger w-100" onclick="EditBio()">Save</button>
    </div>
  </div>
</div>

<!-- Toasts -->
<div class="position-fixed bottom-0 start-50 translate-middle-x p-3" style="z-index: 1100;">
  <div id="successToast" class="toast bg-success text-white align-items-center" role="alert">
    <div class="toast-body text-center">
      Updated Successfully!
    </div>
  </div>
</div>

<!-- Navbar -->
<nav class="navbar navbar-light bg-white border-top fixed-bottom">
  <div class="container-fluid d-flex justify-content-around py-1">
    <a href="Explore.html" class="text-center">
      <img src="/icons/events.svg" alt="event"><br/>
    </a>
    <a href="Search.html" class="text-center">
    <img src="/icons/search.svg" alt="search">
    <br/>
    </a>
    <a href="Notifications.html" class="text-center">
      <img src="/icons/Bell.svg" alt="bell"><br/>
    </a>
    <a href="Settings.html" class="text-center">
      <img src="/icons/Tuning.svg" alt="tuning"><br/>
    </a>
    <a href="Profile.html" class="text-center active">
      <img src="/icons/profile.svg" alt="profile"><br/>
    </a>
  </div>
</nav>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
const successToast = new bootstrap.Toast(document.getElementById('successToast'), {
  delay: 2000,
  autohide: true
});

const profileImage = document.getElementById('profileImage');
const nameModal = new bootstrap.Modal(document.getElementById('nameModal'));
const bioModal = new bootstrap.Modal(document.getElementById('bioModal'));
const photoModal = new bootstrap.Modal(document.getElementById('photoModal'));

document.getElementById('profileImage').addEventListener('click', () => photoModal.show());
document.getElementById('editPhotoBtn').addEventListener('click', () => photoModal.show());
document.getElementById('editNameBtn').addEventListener('click', () => nameModal.show());
document.getElementById('editBioBtn').addEventListener('click', () => bioModal.show());

function ViewPicture() {
  window.open(profileImage.src, '_blank');
}

function EditPicture() {
  document.getElementById('photoInput').click();
}

document.getElementById('photoInput').addEventListener('change', function (e) {
  const file = e.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function (event) {
      profileImage.src = event.target.result;
      successToast.show();
      
      setTimeout(()=>{
        
      photoModal.hide();
      },2000);
    };
    reader.readAsDataURL(file);
  }
});

function EditName() {
  const newName = document.getElementById('nameInput').value.trim();
  if (newName !== '') {
    document.getElementById('profileName').textContent = newName;
    successToast.show();

    setTimeout(()=>{
        
      nameModal.hide();
      },2000);
  }
}

function EditBio() {
  const newBio = document.getElementById('bioInput').value.trim();
  if (newBio !== '') {
    document.getElementById('profileBio').textContent = newBio;
    successToast.show();

    setTimeout(()=>{
        
    bioModal.hide();
      },2000);
  }
}
</script>

</body>
</html>
